{"version":3,"file":"react-semantic-ui-datepickers.cjs.development.js","sources":["../src/utils.ts","../src/pickers/utils.ts","../src/pickers/base.tsx","../src/pickers/basic.tsx","../src/pickers/range.tsx","../src/components/button.tsx","../src/components/cell/cell.tsx","../src/components/today-button.tsx","../src/components/calendar/calendar.tsx","../src/components/icon.tsx","../src/components/input.tsx","../src/index.tsx"],"sourcesContent":["import { convertTokens } from '@date-fns/upgrade/v2/convertTokens';\nimport format from 'date-fns/format';\nimport isBefore from 'date-fns/isBefore';\nimport parse from 'date-fns/parse';\nimport startOfDay from 'date-fns/startOfDay';\nimport { DateObj } from 'dayzed';\nimport { Object, FnsFormatOptions } from './types';\n\nexport const keys = {\n  enter: 13,\n  escape: 27,\n  space: 32,\n};\n\nexport const isSelectable = (date: Date, minDate?: Date, maxDate?: Date) => {\n  if (\n    (minDate && isBefore(date, minDate)) ||\n    (maxDate && isBefore(maxDate, date))\n  ) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const getToday = (minDate?: Date, maxDate?: Date): DateObj => {\n  const today = new Date();\n\n  return {\n    date: startOfDay(today),\n    nextMonth: false,\n    prevMonth: false,\n    selectable: isSelectable(today, minDate, maxDate),\n    selected: false,\n    today: true,\n  };\n};\n\nexport const formatDate = (date: Date | null, dateFormat: string, formatOptions?: FnsFormatOptions) =>\n  date ? format(startOfDay(date), convertTokens(dateFormat), formatOptions) : undefined;\n\nexport const omit = (keysToOmit: string[], obj: Object) => {\n  const newObj = { ...obj };\n\n  keysToOmit.forEach((key) => delete newObj[key]);\n\n  return newObj;\n};\n\nexport const pick = (keysToPick: string[], obj: Object) => {\n  const newObj: Object = {};\n\n  keysToPick.forEach((key) => {\n    newObj[key] = obj[key];\n  });\n\n  return newObj;\n};\n\nexport const moveElementsByN = <T>(n: number, arr: T[]) =>\n  arr.slice(n).concat(arr.slice(0, n));\n\nexport const formatSelectedDate = (\n  selectedDate: Date | Date[] | null | undefined,\n  dateFormat: string,\n  formatOptions?: FnsFormatOptions,\n) => {\n  if (!selectedDate) {\n    return '';\n  }\n\n  return Array.isArray(selectedDate)\n    ? selectedDate.map((date) => formatDate(date, dateFormat, formatOptions)).join(' - ')\n    : formatDate(selectedDate, dateFormat, formatOptions);\n};\n\nexport const parseFormatString = (formatString: string) =>\n  formatString.replace(/[D, Y]/gi, (a) => a.toLowerCase());\n\nexport const parseOnBlur = (typedValue: string, formatString: string) => {\n  return parse(typedValue, parseFormatString(formatString), new Date());\n};\n\nexport const parseRangeOnBlur = (typedValue: string, formatString: string) => {\n  const parsedFormatString = parseFormatString(formatString);\n\n  const rangeValues = typedValue.split(' - ');\n\n  return rangeValues\n    .map((value) => parse(value, parsedFormatString, new Date()))\n    .sort((a, b) => (a > b ? 1 : -1));\n};\n\nexport const onlyNumbers = (value = '') => value.replace(/[^\\d]/g, '');\n\nexport function getShortDate(date?: Date) {\n  if (!date) {\n    return undefined;\n  }\n\n  return format(date, 'yyyy-MM-dd');\n}\n","/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls\n * `event.preventDefault()`. Not sure this is the best\n * way to do this, but it seems legit...\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\nexport function composeEventHandlers(...fns) {\n  return (event, ...args) =>\n    fns.some((fn) => {\n      if (fn) {\n        fn(event, ...args);\n      }\n\n      return event.defaultPrevented;\n    });\n}\n\n/**\n * Create an event handler for keyboard key given a config map\n * of event handlers\n * @param {Object} config consists of left, right, up, and down\n * @return {Function} the event handler to handle keyboard key\n */\nexport function getArrowKeyHandlers(config) {\n  return (event) => {\n    const { keyCode } = event;\n    const fn = {\n      37: config.left,\n      39: config.right,\n      38: config.up,\n      40: config.down,\n    }[keyCode];\n    if (fn) {\n      fn(event);\n    }\n  };\n}\n\n/**\n * Checks if a given date is with date range\n * @param {Array} range the range array with upper and lower bound\n * @param {Date} date a given date\n * @return {Boolean} true if date is in the range, false otherwise\n */\nexport function isInRange(range, date) {\n  return range.length === 2 && range[0] <= date && range[1] >= date;\n}\n","import Dayzed from 'dayzed';\nimport React from 'react';\nimport { BaseDatePickerProps } from '../types';\nimport { getArrowKeyHandlers } from './utils';\n\nclass BaseDatePicker extends React.Component<BaseDatePickerProps> {\n  state = {\n    offset: 0,\n  };\n\n  rootNode = React.createRef<HTMLDivElement>();\n\n  handleArrowKeys = getArrowKeyHandlers({\n    left: () => this.getKeyOffset(-1),\n    right: () => this.getKeyOffset(1),\n    up: () => this.getKeyOffset(-7),\n    down: () => this.getKeyOffset(7),\n  });\n\n  getKeyOffset(number: number) {\n    if (!this.rootNode.current) {\n      return;\n    }\n\n    const activeEl = document.activeElement;\n    const buttons = Array.from(\n      this.rootNode.current.querySelectorAll<HTMLButtonElement>(\n        'button:not(:disabled)'\n      )\n    );\n\n    buttons.some((btn, i) => {\n      const newNodeKey = i + number;\n\n      if (btn !== activeEl) {\n        return false;\n      }\n\n      if (newNodeKey <= buttons.length - 1 && newNodeKey >= 0) {\n        buttons[newNodeKey].focus();\n        return true;\n      }\n\n      buttons[0].focus();\n      return true;\n    });\n  }\n\n  getRootProps = ({ refKey = 'ref', ...rest } = {}) => {\n    return {\n      [refKey]: this.rootNode,\n      onKeyDown: this.handleArrowKeys,\n      ...rest,\n    };\n  };\n\n  _handleOffsetChanged = (offset: number) => {\n    this.setState({\n      offset,\n    });\n  };\n\n  componentDidUpdate(prevProps: BaseDatePickerProps) {\n    if (this.props.date !== prevProps.date) {\n      this._handleOffsetChanged(0);\n    }\n  }\n\n  render() {\n    const { children, ...rest } = this.props;\n\n    return (\n      <Dayzed\n        {...rest}\n        offset={this.state.offset}\n        onOffsetChanged={this._handleOffsetChanged}\n        render={(renderProps) =>\n          children({\n            ...renderProps,\n            getRootProps: this.getRootProps,\n          })\n        }\n      />\n    );\n  }\n}\n\nexport default BaseDatePicker;\n","import React from 'react';\nimport { BasicDatePickerProps } from '../types';\nimport BaseDatePicker from './base';\n\nclass DatePicker extends React.Component<BasicDatePickerProps> {\n  _handleOnDateSelected = (\n    { selectable, date },\n    event: React.SyntheticEvent\n  ) => {\n    const { selected: selectedDate, onChange } = this.props;\n\n    if (!selectable) {\n      return;\n    }\n\n    let newDate = date;\n    if (selectedDate && selectedDate.getTime() === date.getTime()) {\n      newDate = null;\n    }\n\n    if (onChange) {\n      onChange(event, newDate);\n    }\n  };\n\n  render() {\n    return (\n      <BaseDatePicker\n        {...this.props}\n        onDateSelected={this._handleOnDateSelected}\n      />\n    );\n  }\n}\n\nexport default DatePicker;\n","import compareAsc from 'date-fns/compareAsc';\nimport isSameDay from 'date-fns/isSameDay';\nimport React from 'react';\nimport { RangeDatePickerProps } from '../types';\nimport BaseDatePicker from './base';\nimport { composeEventHandlers, isInRange } from './utils';\n\ntype RangeDatePickerState = {\n  hoveredDate: Date | null;\n};\n\nclass RangeDatePicker extends React.Component<\n  RangeDatePickerProps,\n  RangeDatePickerState\n> {\n  static defaultProps = {\n    selected: [],\n  };\n\n  state = { hoveredDate: null };\n\n  setHoveredDate = (date: Date | null) => {\n    this.setState((state) =>\n      state.hoveredDate === date ? null : { hoveredDate: date }\n    );\n  };\n\n  // Calendar level\n  onMouseLeave = () => {\n    this.setHoveredDate(null);\n  };\n\n  // Date level\n  onHoverFocusDate(date: Date | null) {\n    if (this.props.selected.length !== 1) {\n      return;\n    }\n\n    this.setHoveredDate(date);\n  }\n\n  _handleOnDateSelected = (\n    { selectable, date },\n    event: React.SyntheticEvent\n  ) => {\n    const { selected: selectedDates, onChange } = this.props;\n\n    if (!selectable) {\n      return;\n    }\n\n    const dateTime = date.getTime();\n    let newDates = [...selectedDates];\n    if (selectedDates.length) {\n      if (selectedDates.length === 1) {\n        const firstTime = selectedDates[0].getTime();\n        if (firstTime < dateTime) {\n          newDates.push(date);\n        } else {\n          newDates.unshift(date);\n        }\n      } else if (newDates.length === 2) {\n        newDates = [date];\n      }\n    } else {\n      newDates.push(date);\n    }\n\n    if (onChange) {\n      onChange(event, newDates);\n    }\n\n    if (newDates.length === 2) {\n      this.setHoveredDate(null);\n    }\n  };\n\n  getEnhancedDateProps = (\n    getDateProps,\n    dateBounds,\n    { onMouseEnter, onFocus, ...restProps }\n  ) => {\n    const { hoveredDate } = this.state;\n    const { date } = restProps.dateObj;\n    return getDateProps({\n      ...restProps,\n      inRange: isInRange(dateBounds, date),\n      start: dateBounds[0] && isSameDay(dateBounds[0], date),\n      end: dateBounds[1] && isSameDay(dateBounds[1], date),\n      // @ts-ignore\n      hovered: hoveredDate && isSameDay(hoveredDate, date),\n      onMouseEnter: composeEventHandlers(onMouseEnter, () => {\n        this.onHoverFocusDate(date);\n      }),\n      onFocus: composeEventHandlers(onFocus, () => {\n        this.onHoverFocusDate(date);\n      }),\n    });\n  };\n\n  getEnhancedRootProps = (getRootProps, props) =>\n    getRootProps({\n      ...props,\n      onMouseLeave: this.onMouseLeave,\n    });\n\n  render() {\n    const { children, ...rest } = this.props;\n    const { hoveredDate } = this.state;\n    const { selected } = this.props;\n\n    const dateBounds =\n      selected.length === 2 || !selected.length || !hoveredDate\n        ? selected\n        : // prettier-ignore\n          // @ts-ignore\n          [selected[0], hoveredDate].sort(compareAsc);\n\n    return (\n      <BaseDatePicker {...rest} onDateSelected={this._handleOnDateSelected}>\n        {({ getRootProps, getDateProps, ...renderProps }) =>\n          children({\n            ...renderProps,\n            getRootProps: this.getEnhancedRootProps.bind(this, getRootProps),\n            getDateProps: this.getEnhancedDateProps.bind(\n              this,\n              getDateProps,\n              dateBounds\n            ),\n          })\n        }\n      </BaseDatePicker>\n    );\n  }\n}\n\nexport default RangeDatePicker;\n","import React from 'react';\nimport { Button, ButtonProps } from 'semantic-ui-react';\n\nconst CustomButton = ({ icon, ...otherProps }: ButtonProps) => (\n  <Button basic compact icon={icon} {...otherProps} />\n);\n\nexport default CustomButton;\n","import cn from 'classnames';\nimport React from 'react';\nimport './cell.css';\n\ntype CalendarCellProps = {\n  end?: boolean;\n  hovered?: boolean;\n  inRange?: boolean;\n  inverted?: boolean;\n  nextMonth?: boolean;\n  prevMonth?: boolean;\n  selectable?: boolean;\n  selected?: boolean;\n  start?: boolean;\n  today?: boolean;\n  title?: string;\n};\n\nconst CalendarCell: React.FC<CalendarCellProps> = ({\n  children,\n  end,\n  hovered,\n  inRange,\n  inverted,\n  nextMonth,\n  prevMonth,\n  selectable,\n  selected,\n  start,\n  today,\n  ...otherProps\n}) => {\n  const className = cn('clndr-cell', {\n    inverted,\n    'clndr-cell-today': today,\n    'clndr-cell-disabled': !selectable,\n    'clndr-cell-other-month': nextMonth || prevMonth,\n    'clndr-cell-inrange': inRange,\n    'clndr-cell-selected': selected,\n  });\n\n  if (!children) {\n    return (\n      <span className={className} tabIndex={children ? 0 : -1} {...otherProps}>\n        {children}\n      </span>\n    );\n  }\n\n  return (\n    <button className={className} disabled={!selectable} {...otherProps}>\n      {children}\n    </button>\n  );\n};\n\nCalendarCell.defaultProps = {\n  end: false,\n  hovered: false,\n  inRange: false,\n  nextMonth: false,\n  prevMonth: false,\n  start: false,\n};\n\nexport default CalendarCell;\n","import React from 'react';\nimport { DateObj } from 'dayzed';\nimport { Button, ButtonProps } from 'semantic-ui-react';\n\ninterface TodayButtonProps extends DateObj, ButtonProps {\n  end?: boolean;\n  hovered?: boolean;\n  inRange?: boolean;\n  start?: boolean;\n}\n\nconst style: React.CSSProperties = { marginTop: 10 };\n\nconst TodayButton: React.FC<TodayButtonProps> = ({\n  'aria-label': ariaLabel,\n  children,\n  end,\n  hovered,\n  inRange,\n  nextMonth,\n  prevMonth,\n  selectable,\n  selected,\n  start,\n  today,\n  ...otherProps\n}) => (\n  <Button\n    aria-label={`${ariaLabel}, ${children}`}\n    className=\"clndr-button-today\"\n    compact\n    data-testid=\"datepicker-today-button\"\n    fluid\n    style={style}\n    {...otherProps}\n  >\n    {children}\n  </Button>\n);\n\nexport default TodayButton;\n","import cn from 'classnames';\nimport React, { Fragment, SyntheticEvent, useEffect, useRef } from 'react';\nimport { Ref, Segment } from 'semantic-ui-react';\nimport { Locale, RenderProps, SemanticDatepickerProps } from 'types';\nimport { getShortDate, getToday } from '../../utils';\nimport Button from '../button';\nimport CalendarCell from '../cell';\nimport TodayButton from '../today-button';\nimport './calendar.css';\n\ninterface CalendarProps extends RenderProps {\n  filterDate: (date: Date) => boolean;\n  getRootProps: () => Record<string, any>;\n  inline: SemanticDatepickerProps['inline'];\n  inverted: SemanticDatepickerProps['inverted'];\n  maxDate?: Date;\n  minDate?: Date;\n  months: Locale['months'];\n  nextMonth: string;\n  nextYear: string;\n  pointing: SemanticDatepickerProps['pointing'];\n  previousMonth: string;\n  previousYear: string;\n  showToday: SemanticDatepickerProps['showToday'];\n  todayButton: string;\n  weekdays: Locale['weekdays'];\n}\n\nconst styles: { [key: string]: React.CSSProperties } = {\n  leftBtn: { textAlign: 'start' },\n  rightBtn: { textAlign: 'end' },\n};\n\nconst pointings = {\n  'top left': 'clndr-top clndr-left',\n  'top right': 'clndr-top clndr-right',\n  left: 'clndr-left',\n  right: 'clndr-right',\n};\n\nconst Calendar: React.FC<CalendarProps> = ({\n  calendars,\n  filterDate,\n  getBackProps,\n  getDateProps,\n  getForwardProps,\n  getRootProps,\n  inline,\n  inverted,\n  maxDate,\n  minDate,\n  months,\n  nextMonth,\n  nextYear,\n  previousMonth,\n  previousYear,\n  showToday,\n  todayButton,\n  weekdays,\n  pointing,\n}) => {\n  const { ref: rootRef, ...rootProps } = getRootProps();\n  const pressedBtnRef = useRef<string | null>();\n  const onPressBtn = (evt: SyntheticEvent) => {\n    pressedBtnRef.current = (evt.target as HTMLButtonElement).getAttribute(\n      'aria-label'\n    );\n  };\n\n  useEffect(() => {\n    if (pressedBtnRef.current) {\n      const selector = `[aria-label=\"${pressedBtnRef.current}\"]`;\n      const prevBtn = document.querySelector<HTMLButtonElement>(selector);\n\n      if (prevBtn && document.activeElement !== prevBtn) {\n        prevBtn.focus();\n      }\n    }\n  });\n\n  return (\n    <Ref innerRef={rootRef}>\n      <Segment\n        {...rootProps}\n        inverted={inverted}\n        className={cn('clndr-calendars-segment', {\n          'clndr-floating': !inline,\n          [pointings[pointing]]: !inline,\n        })}\n      >\n        <div\n          className=\"clndr-calendars-wrapper\"\n          style={{ '--n': calendars.length } as React.CSSProperties}\n        >\n          {calendars.map((calendar, calendarIdx) => (\n            <div key={`${calendar.year}-${calendar.month}`}>\n              <div className=\"clndr-control\">\n                <div style={styles.leftBtn}>\n                  {calendarIdx === 0 && (\n                    <Fragment>\n                      <Button\n                        icon=\"angle double left\"\n                        inverted={inverted}\n                        title={previousYear}\n                        {...getBackProps({\n                          calendars,\n                          'aria-label': previousYear,\n                          offset: 12,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                      <Button\n                        icon=\"angle left\"\n                        inverted={inverted}\n                        style={{ marginRight: 0 }}\n                        title={previousMonth}\n                        {...getBackProps({\n                          calendars,\n                          'aria-label': previousMonth,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                    </Fragment>\n                  )}\n                </div>\n\n                <span title={`${months[calendar.month]} ${calendar.year}`}>\n                  {months[calendar.month].slice(0, 3)} {calendar.year}\n                </span>\n\n                <div style={styles.rightBtn}>\n                  {calendarIdx === calendars.length - 1 && (\n                    <Fragment>\n                      <Button\n                        icon=\"angle right\"\n                        inverted={inverted}\n                        title={nextMonth}\n                        {...getForwardProps({\n                          calendars,\n                          'aria-label': nextMonth,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                      <Button\n                        icon=\"angle double right\"\n                        inverted={inverted}\n                        style={{ marginRight: 0 }}\n                        title={nextYear}\n                        {...getForwardProps({\n                          calendars,\n                          'aria-label': nextYear,\n                          offset: 12,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                    </Fragment>\n                  )}\n                </div>\n              </div>\n              <div className=\"clndr-days\">\n                {weekdays.map((weekday) => (\n                  <CalendarCell\n                    key={`${calendar.year}-${calendar.month}-${weekday}`}\n                    inverted={inverted}\n                    aria-label={weekday}\n                    title={weekday}\n                  >\n                    {weekday.slice(0, 2)}\n                  </CalendarCell>\n                ))}\n                {calendar.weeks.map((week) =>\n                  week.map((dateObj, weekIdx) => {\n                    const key = `${calendar.year}-${calendar.month}-${weekIdx}`;\n\n                    if (!dateObj) {\n                      return <CalendarCell key={key} inverted={inverted} />;\n                    }\n\n                    const selectable =\n                      dateObj.selectable && filterDate(dateObj.date);\n                    const shortDate = getShortDate(dateObj.date);\n\n                    return (\n                      <CalendarCell\n                        key={key}\n                        {...dateObj}\n                        {...getDateProps({\n                          dateObj: { ...dateObj, selectable },\n                          onClick: onPressBtn,\n                        })}\n                        data-testid={`datepicker-cell-${shortDate}`}\n                        inverted={inverted}\n                        selectable={selectable}\n                      >\n                        {dateObj.date.getDate()}\n                      </CalendarCell>\n                    );\n                  })\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n        {showToday && (\n          <TodayButton\n            inverted={inverted}\n            {...getToday(minDate, maxDate)}\n            {...getDateProps({\n              dateObj: getToday(minDate, maxDate),\n              onClick: onPressBtn,\n            })}\n          >\n            {todayButton}\n          </TodayButton>\n        )}\n      </Segment>\n    </Ref>\n  );\n};\n\nexport default Calendar;\n","import React from 'react';\nimport { Icon as SUIIcon } from 'semantic-ui-react';\nimport { SemanticDatepickerProps } from '../types';\n\ntype CustomIconProps = {\n  clearIcon: SemanticDatepickerProps['clearIcon'];\n  icon: SemanticDatepickerProps['icon'];\n  isClearIconVisible: boolean;\n  onClear: () => void;\n};\n\nconst CustomIcon = ({\n  clearIcon,\n  icon,\n  isClearIconVisible,\n  onClear,\n}: CustomIconProps) => {\n  if (isClearIconVisible && clearIcon && React.isValidElement(clearIcon)) {\n    return React.cloneElement(clearIcon, {\n      'data-testid': 'datepicker-clear-icon',\n      onClick: onClear,\n    });\n  }\n\n  if (isClearIconVisible && clearIcon && !React.isValidElement(clearIcon)) {\n    return (\n      <SUIIcon\n        aria-pressed=\"false\"\n        data-testid=\"datepicker-clear-icon\"\n        link\n        name={clearIcon}\n        onClick={onClear}\n      />\n    );\n  }\n\n  if (icon && React.isValidElement(icon)) {\n    return React.cloneElement(icon, {\n      'data-testid': 'datepicker-icon',\n    });\n  }\n\n  return <SUIIcon data-testid=\"datepicker-icon\" name={icon} />;\n};\n\nexport default CustomIcon;\n","import React from 'react';\nimport { Form, Input, FormInputProps } from 'semantic-ui-react';\nimport { SemanticDatepickerProps } from '../types';\nimport CustomIcon from './icon';\n\ntype InputProps = FormInputProps & {\n  clearIcon: SemanticDatepickerProps['clearIcon'];\n  icon: SemanticDatepickerProps['icon'];\n  isClearIconVisible: boolean;\n};\n\nconst inputData = {\n  'data-testid': 'datepicker-input',\n};\n\nconst CustomInput = React.forwardRef<Input, InputProps>((props, ref) => {\n  const {\n    clearIcon,\n    icon,\n    isClearIconVisible,\n    label,\n    onClear,\n    onFocus,\n    required,\n    value,\n    ...rest\n  } = props;\n\n  return (\n    <Form.Field required={required}>\n      {label && <label htmlFor={rest.id as string | undefined}>{label}</label>}\n      <Input\n        {...rest}\n        ref={ref}\n        required={required}\n        icon={\n          <CustomIcon\n            clearIcon={clearIcon}\n            icon={icon}\n            isClearIconVisible={isClearIconVisible}\n            onClear={onClear}\n          />\n        }\n        input={inputData}\n        onFocus={onFocus}\n        value={value}\n      />\n    </Form.Field>\n  );\n});\n\nexport default CustomInput;\n","import isValid from 'date-fns/isValid';\nimport formatStringByPattern from 'format-string-by-pattern';\nimport React from 'react';\nimport isEqual from 'react-fast-compare';\nimport { Input as SUIInput } from 'semantic-ui-react';\nimport {\n  formatSelectedDate,\n  keys,\n  moveElementsByN,\n  omit,\n  onlyNumbers,\n  parseOnBlur,\n  parseRangeOnBlur,\n  pick,\n} from './utils';\nimport { BasicDatePicker, RangeDatePicker } from './pickers';\nimport { Locale, SemanticDatepickerProps } from './types';\nimport Calendar from './components/calendar';\nimport Input from './components/input';\n\nconst style: React.CSSProperties = {\n  display: 'inline-block',\n  position: 'relative',\n};\n\nconst semanticInputProps = [\n  'autoComplete',\n  'autoFocus',\n  'className',\n  'clearIcon',\n  'disabled',\n  'error',\n  'icon',\n  'iconPosition',\n  'id',\n  'label',\n  'loading',\n  'name',\n  'onBlur',\n  'onChange',\n  'onClick',\n  'onContextMenu',\n  'onDoubleClick',\n  'onFocus',\n  'onInput',\n  'onKeyDown',\n  'onKeyPress',\n  'onKeyUp',\n  'onMouseDown',\n  'onMouseEnter',\n  'onMouseLeave',\n  'onMouseMove',\n  'onMouseOut',\n  'onMouseOver',\n  'onMouseUp',\n  'placeholder',\n  'required',\n  'size',\n  'tabIndex',\n  'transparent',\n  'readOnly',\n];\n\ntype SemanticDatepickerState = {\n  isVisible: boolean;\n  locale: Locale;\n  selectedDate: Date | Date[] | null;\n  selectedDateFormatted?: string;\n  typedValue: string | null;\n};\n\nclass SemanticDatepicker extends React.Component<\n  SemanticDatepickerProps,\n  SemanticDatepickerState\n> {\n  static defaultProps: SemanticDatepickerProps = {\n    allowOnlyNumbers: false,\n    autoFocus: false,\n    clearIcon: 'close',\n    clearOnSameDateClick: true,\n    clearable: true,\n    date: undefined,\n    filterDate: () => true,\n    firstDayOfWeek: 0,\n    format: 'YYYY-MM-DD',\n    icon: 'calendar',\n    id: undefined,\n    inline: false,\n    keepOpenOnClear: false,\n    keepOpenOnSelect: false,\n    label: undefined,\n    locale: 'en-US',\n    name: undefined,\n    onBlur: () => {},\n    onChange: () => {},\n    onFocus: () => {},\n    placeholder: undefined,\n    pointing: 'left',\n    readOnly: false,\n    datePickerOnly: false,\n    required: false,\n    showToday: true,\n    showOutsideDays: false,\n    type: 'basic',\n    value: null,\n    inverted: false,\n  };\n\n  el = React.createRef<HTMLDivElement>();\n  inputRef = React.createRef<SUIInput>();\n\n  componentDidUpdate(prevProps: SemanticDatepickerProps) {\n    const { locale, value } = this.props;\n\n    if (!isEqual(value, prevProps.value)) {\n      this.onDateSelected(undefined, value);\n    }\n\n    if (locale !== prevProps.locale) {\n      this.setState({ locale: this.locale });\n    }\n  }\n\n  get isRangeInput() {\n    return this.props.type === 'range';\n  }\n\n  get initialState() {\n    const { format, value, formatOptions } = this.props;\n    const initialSelectedDate = this.isRangeInput ? [] : null;\n\n    return {\n      isVisible: false,\n      locale: this.locale,\n      selectedDate: value || initialSelectedDate,\n      selectedDateFormatted: formatSelectedDate(value, format, formatOptions),\n      typedValue: null,\n    };\n  }\n\n  get dayzedProps() {\n    return omit(semanticInputProps, this.props);\n  }\n\n  get inputProps() {\n    const props = pick(semanticInputProps, this.props);\n    const placeholder =\n      props.placeholder !== undefined ? props.placeholder : this.props.format;\n\n    return {\n      ...props,\n      placeholder,\n    };\n  }\n\n  get date(): Date | undefined {\n    const { selectedDate } = this.state;\n    const { date } = this.props;\n\n    if (date || !selectedDate) {\n      return date;\n    }\n\n    return this.isRangeInput ? selectedDate[0] : selectedDate;\n  }\n\n  get locale() {\n    const { locale } = this.props;\n\n    let localeJson: Locale;\n\n    try {\n      localeJson = require(`./locales/${locale}.json`);\n    } catch (e) {\n      console.warn(`\"${locale}\" is not a valid locale`);\n      localeJson = require('./locales/en-US.json');\n    }\n\n    return localeJson;\n  }\n\n  get weekdays() {\n    const { firstDayOfWeek } = this.dayzedProps;\n    const { weekdays } = this.state.locale;\n\n    return moveElementsByN(firstDayOfWeek, weekdays);\n  }\n\n  state = this.initialState;\n\n  Component: React.ElementType = this.isRangeInput\n    ? RangeDatePicker\n    : BasicDatePicker;\n\n  resetState = (event) => {\n    const { keepOpenOnClear, onChange } = this.props;\n    const newState = {\n      isVisible: keepOpenOnClear,\n      selectedDate: this.isRangeInput ? [] : null,\n      selectedDateFormatted: '',\n    };\n\n    if (keepOpenOnClear) {\n      this.focusOnInput();\n    }\n\n    this.setState(newState, () => {\n      onChange(event, { ...this.props, value: null });\n    });\n  };\n\n  clearInput = (event) => {\n    this.resetState(event);\n  };\n\n  mousedownCb = (mousedownEvent) => {\n    const { isVisible } = this.state;\n\n    if (isVisible && this.el) {\n      if (this.el.current && !this.el.current.contains(mousedownEvent.target)) {\n        this.close();\n      }\n    }\n  };\n\n  keydownCb = (keydownEvent) => {\n    const { isVisible } = this.state;\n\n    if (keydownEvent.keyCode === keys.escape && isVisible) {\n      this.close();\n    }\n  };\n\n  close = () => {\n    window.removeEventListener('keydown', this.keydownCb);\n    window.removeEventListener('mousedown', this.mousedownCb);\n\n    this.setState({\n      isVisible: false,\n    });\n  };\n\n  focusOnInput = () => {\n    if (this.inputRef?.current) {\n      // @ts-ignore\n      const { focus, inputRef } = this.inputRef.current;\n      if (document.activeElement !== inputRef.current) {\n        focus();\n      }\n    }\n  };\n\n  showCalendar = (event) => {\n    const { onFocus } = this.props;\n\n    onFocus(event);\n    window.addEventListener('mousedown', this.mousedownCb);\n    window.addEventListener('keydown', this.keydownCb);\n\n    this.focusOnInput();\n    this.setState({\n      isVisible: true,\n    });\n  };\n\n  handleRangeInput = (newDates, event) => {\n    const { format, keepOpenOnSelect, onChange, formatOptions } = this.props;\n\n    if (!newDates || !newDates.length) {\n      this.resetState(event);\n\n      return;\n    }\n\n    const newState = {\n      selectedDate: newDates,\n      selectedDateFormatted: formatSelectedDate(newDates, format, formatOptions),\n      typedValue: null,\n    };\n\n    this.setState(newState, () => {\n      onChange(event, { ...this.props, value: newDates });\n\n      if (newDates.length === 2) {\n        this.setState({ isVisible: keepOpenOnSelect });\n      }\n    });\n  };\n\n  handleBasicInput = (newDate, event) => {\n    const { format, keepOpenOnSelect, onChange, clearOnSameDateClick, formatOptions } =\n      this.props;\n\n    if (!newDate) {\n      // if clearOnSameDateClick is true (this is the default case)\n      // then reset the state. This is what was previously the default\n      // behavior, without a specific prop.\n      if (clearOnSameDateClick) {\n        this.resetState(event);\n      } else {\n        // Don't reset the state. Instead, close or keep open the\n        // datepicker according to the value of keepOpenOnSelect.\n        // Essentially, follow the default behavior of clicking a date\n        // but without changing the value in state.\n        this.setState({\n          isVisible: keepOpenOnSelect,\n        });\n      }\n\n      return;\n    }\n\n    const newState = {\n      isVisible: keepOpenOnSelect,\n      selectedDate: newDate,\n      selectedDateFormatted: formatSelectedDate(newDate, format, formatOptions),\n      typedValue: null,\n    };\n\n    this.setState(newState, () => {\n      onChange(event, { ...this.props, value: newDate });\n    });\n  };\n\n  handleBlur = (event?: React.SyntheticEvent) => {\n    const { format, onBlur, onChange } = this.props;\n    const { typedValue } = this.state;\n\n    if (event) {\n      onBlur(event);\n    }\n\n    if (!typedValue) {\n      return;\n    }\n\n    if (this.isRangeInput) {\n      const parsedValue = parseRangeOnBlur(String(typedValue), format);\n      const areDatesValid = parsedValue.every(isValid);\n\n      if (areDatesValid) {\n        this.handleRangeInput(parsedValue, event);\n        return;\n      }\n    } else {\n      const parsedValue = parseOnBlur(String(typedValue), format);\n      const isDateValid = isValid(parsedValue);\n\n      if (isDateValid) {\n        this.handleBasicInput(parsedValue, event);\n        return;\n      }\n    }\n\n    this.setState({ typedValue: null }, () => {\n      onChange(event, { ...this.props, value: null });\n    });\n  };\n\n  handleChange = (event: React.SyntheticEvent, { value }) => {\n    const { allowOnlyNumbers, format, onChange } = this.props;\n    const formatString = this.isRangeInput ? `${format} - ${format}` : format;\n    const typedValue = allowOnlyNumbers ? onlyNumbers(value) : value;\n\n    if (!typedValue) {\n      const newState = {\n        selectedDate: this.isRangeInput ? [] : null,\n        selectedDateFormatted: '',\n        typedValue: null,\n      };\n\n      this.setState(newState, () => {\n        onChange(event, { ...this.props, value: null });\n      });\n\n      return;\n    }\n\n    this.setState({\n      selectedDate: this.isRangeInput ? [] : null,\n      selectedDateFormatted: '',\n      typedValue: formatStringByPattern(formatString, typedValue),\n    });\n  };\n\n  handleKeyDown = (evt) => {\n    if (evt.keyCode === keys.enter) {\n      this.handleBlur();\n    }\n  };\n\n  onDateSelected = (event: React.SyntheticEvent | undefined, dateOrDates) => {\n    if (this.isRangeInput) {\n      this.handleRangeInput(dateOrDates, event);\n    } else {\n      this.handleBasicInput(dateOrDates, event);\n    }\n  };\n\n  render() {\n    const {\n      isVisible,\n      locale,\n      selectedDate,\n      selectedDateFormatted,\n      typedValue,\n    } = this.state;\n    const {\n      clearable,\n      pointing,\n      filterDate,\n      inline,\n      inverted,\n      readOnly,\n      datePickerOnly,\n    } = this.props;\n    const datepickerComponent = (\n      <this.Component\n        {...this.dayzedProps}\n        monthsToDisplay={this.isRangeInput ? 2 : 1}\n        onChange={this.onDateSelected}\n        selected={selectedDate}\n        date={this.date}\n      >\n        {(props) => (\n          <Calendar\n            {...this.dayzedProps}\n            {...props}\n            {...locale}\n            filterDate={filterDate}\n            inverted={inverted}\n            pointing={pointing}\n            weekdays={this.weekdays}\n          />\n        )}\n      </this.Component>\n    );\n\n    return inline ? (\n      datepickerComponent\n    ) : (\n      <div className=\"field\" style={style} ref={this.el}>\n        <Input\n          {...this.inputProps}\n          isClearIconVisible={Boolean(clearable && selectedDateFormatted)}\n          onBlur={this.handleBlur}\n          onChange={this.handleChange}\n          onClear={this.clearInput}\n          onFocus={readOnly ? null : this.showCalendar}\n          onKeyDown={this.handleKeyDown}\n          readOnly={readOnly || datePickerOnly}\n          ref={this.inputRef}\n          value={typedValue || selectedDateFormatted}\n        />\n        {isVisible && datepickerComponent}\n      </div>\n    );\n  }\n}\n\nexport default SemanticDatepicker;\n"],"names":["keys","enter","escape","space","isSelectable","date","minDate","maxDate","isBefore","getToday","today","Date","startOfDay","nextMonth","prevMonth","selectable","selected","formatDate","dateFormat","formatOptions","format","convertTokens","undefined","omit","keysToOmit","obj","newObj","forEach","key","pick","keysToPick","moveElementsByN","n","arr","slice","concat","formatSelectedDate","selectedDate","Array","isArray","map","join","parseFormatString","formatString","replace","a","toLowerCase","parseOnBlur","typedValue","parse","parseRangeOnBlur","parsedFormatString","rangeValues","split","value","sort","b","onlyNumbers","getShortDate","composeEventHandlers","fns","event","args","some","fn","defaultPrevented","getArrowKeyHandlers","config","keyCode","left","right","up","down","isInRange","range","length","BaseDatePicker","offset","React","createRef","getKeyOffset","refKey","rest","rootNode","onKeyDown","handleArrowKeys","setState","number","current","activeEl","document","activeElement","buttons","from","querySelectorAll","btn","i","newNodeKey","focus","componentDidUpdate","prevProps","props","_handleOffsetChanged","render","children","Dayzed","state","onOffsetChanged","renderProps","getRootProps","Component","DatePicker","onChange","newDate","getTime","onDateSelected","_handleOnDateSelected","RangeDatePicker","hoveredDate","setHoveredDate","selectedDates","dateTime","newDates","firstTime","push","unshift","getDateProps","dateBounds","onMouseEnter","onFocus","restProps","dateObj","inRange","start","isSameDay","end","hovered","onHoverFocusDate","onMouseLeave","compareAsc","getEnhancedRootProps","bind","getEnhancedDateProps","CustomButton","icon","otherProps","Button","basic","compact","CalendarCell","inverted","className","cn","tabIndex","disabled","defaultProps","style","marginTop","TodayButton","ariaLabel","fluid","styles","leftBtn","textAlign","rightBtn","pointings","Calendar","calendars","filterDate","getBackProps","getForwardProps","inline","months","nextYear","previousMonth","previousYear","showToday","todayButton","weekdays","pointing","rootRef","ref","rootProps","pressedBtnRef","useRef","onPressBtn","evt","target","getAttribute","useEffect","selector","prevBtn","querySelector","Ref","innerRef","Segment","calendar","calendarIdx","year","month","Fragment","title","onClick","marginRight","weekday","weeks","week","weekIdx","shortDate","getDate","CustomIcon","clearIcon","isClearIconVisible","onClear","isValidElement","cloneElement","SUIIcon","link","name","inputData","CustomInput","forwardRef","label","required","Form","Field","htmlFor","id","Input","input","display","position","semanticInputProps","SemanticDatepicker","initialState","isRangeInput","BasicDatePicker","keepOpenOnClear","newState","isVisible","selectedDateFormatted","focusOnInput","resetState","mousedownEvent","el","contains","close","keydownEvent","window","removeEventListener","keydownCb","mousedownCb","inputRef","addEventListener","keepOpenOnSelect","clearOnSameDateClick","onBlur","parsedValue","String","areDatesValid","every","isValid","handleRangeInput","isDateValid","handleBasicInput","allowOnlyNumbers","formatStringByPattern","handleBlur","dateOrDates","locale","isEqual","clearable","readOnly","datePickerOnly","datepickerComponent","dayzedProps","monthsToDisplay","inputProps","Boolean","handleChange","clearInput","showCalendar","handleKeyDown","type","initialSelectedDate","placeholder","localeJson","require","e","console","warn","firstDayOfWeek","autoFocus","showOutsideDays"],"mappings":"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"}